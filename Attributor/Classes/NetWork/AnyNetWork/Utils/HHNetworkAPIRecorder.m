//
//  HHNetworkAPIRecorder.m
//  HeiHuaBaiHua
//
//  Created by HeiHuaBaiHua on 16/8/25.
//  Copyright © 2016年 HeiHuaBaiHua. All rights reserved.
//

#import "HHNetworkAPIRecorder.h"
@implementation HHNetworkAPIRecorder
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
- (instancetype)init {
    if (self = [super init]) {
        self.pageSize = DefaultPageSize;
        self.currentPage = 1;
    }
    return self;
}

#pragma mark - Interface

- (void)reset {
    self.rawValue = nil;
    self.itemsCount = 0;
    self.currentPage = 1;
    self.lastRequestTime = 0;
}

- (BOOL)hasMoreData {
    return self.currentPage < self.maxPage;
}

- (NSInteger)maxPage {
    return (NSInteger)ceilf(self.itemsCount * 1.0 / self.pageSize);
}

#pragma mark - Setter

- (void)setCurrentPage:(int)currentPage {
    _currentPage = currentPage >= 1 ? currentPage : 1;
}

- (void)setItemsCount:(NSInteger)itemsCount {
    _itemsCount = itemsCount > 0 ? itemsCount : 0;
}

@end
